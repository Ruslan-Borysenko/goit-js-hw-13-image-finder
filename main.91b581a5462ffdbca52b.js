(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{QfWi:function(e,t,n){"use strict";n.r(t);n("h3ov");var l=n("aDFv"),a=n.n(l),o=(n("JBxO"),n("FdtR"),{page:1,searchQuery:"",fetchImg:function(){var e=this,t="https://pixabay.com/api/?key=19762047-00a71ca172d97ff67da5d4766&q="+this.searchQuery+"&page="+this.page+"&per_page=12";return fetch(t).then((function(t){return e.page+=1,t.json()})).catch((function(e){return console.log(e)}))},resetPage:function(){this.page=1},get query(){return this.searchQuery},set query(e){this.searchQuery=e}}),i=(n("RtS0"),n("3dw1"),document.querySelector(".image-gallery"),new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>0&&c()}))})));function r(e){var t=a()(e);u.gallery.insertAdjacentHTML("beforeend",t)}function s(){u.gallery.textContent="",o.searchQuery=u.searchInput.value,""!==o.searchQuery&&" "!==o.searchQuery?(o.resetPage(),o.fetchImg().then((function(e){r(e),i.observe(document.querySelector("#infinite-scroll-trigger")),u.loadMoreBtn.classList.remove("is-hidden")}))):u.loadMoreBtn.classList.add("is-hidden")}function c(){o.fetchImg().then((function(e){var t;r(e),t=document.querySelector(".image-gallery__item"),window.scrollBy({top:t.clientHeight,behavior:"smooth"})}))}var d=n("jffb"),u={body:document.querySelector("body"),formGroup:document.createElement("div"),searchInput:document.createElement("input"),label:document.createElement("label"),lightbox:document.createElement("div"),lightboxOverlay:document.createElement("div"),lightboxContent:document.createElement("div"),lightboxImage:document.createElement("img"),gallery:document.createElement("ul"),loadMoreBtn:document.createElement("button"),infiniteScrollTrigger:document.createElement("div")};var m=function(){u.lightbox.classList.toggle("is-open"),window.removeEventListener("keydown",p),u.lightboxImage.src=""},p=function(e){"Escape"===e.code&&m()};u.gallery.addEventListener("click",(function(e){e.preventDefault();var t=e.target,n=t.src;"IMG"===t.nodeName&&(u.lightboxImage.src=n,window.addEventListener("keydown",p),u.lightbox.classList.toggle("is-open"))})),u.lightboxOverlay.addEventListener("click",m),u.searchInput.addEventListener("input",d(s,500)),u.loadMoreBtn.addEventListener("click",c),u.formGroup.classList.add("form__group","field"),u.searchInput.classList.add("form__field","is-hidden"),u.searchInput.setAttribute("type"," input"),u.searchInput.setAttribute("placeholder"," Name"),u.searchInput.setAttribute("name"," name"),u.searchInput.setAttribute("id"," name"),u.label.classList.add("form__label"),u.label.setAttribute("for","name"),u.label.textContent="Search images...",u.body.append(u.formGroup),u.formGroup.append(u.searchInput),u.formGroup.append(u.label),u.lightbox.classList.add("lightbox","js-lightbox"),u.lightboxOverlay.classList.add("lightbox__overlay"),u.lightboxContent.classList.add("lightbox__content"),u.lightboxImage.classList.add("lightbox__image"),u.lightboxImage.setAttribute("src","#"),u.lightboxImage.setAttribute("alt",""),u.body.append(u.lightbox),u.lightbox.append(u.lightboxOverlay),u.lightbox.append(u.lightboxContent),u.lightboxContent.append(u.lightboxImage),u.gallery.classList.add("image-gallery","list"),u.body.append(u.gallery),u.loadMoreBtn.setAttribute("data-action","load-more"),u.loadMoreBtn.classList.add("btn","is-hidden"),u.loadMoreBtn.textContent="Show more",u.body.append(u.loadMoreBtn),u.infiniteScrollTrigger.setAttribute("id","infinite-scroll-trigger"),u.loadMoreBtn.replaceWith(u.infiniteScrollTrigger),console.log(window.innerHeight)},aDFv:function(e,t,n){var l=n("mp5j");e.exports=(l.default||l).template({1:function(e,t,n,l,a){var o,i=e.lambda,r=e.escapeExpression,s=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="image-gallery__item">\r\n    <img src="'+r(i(null!=t?d(t,"largeImageURL"):t,t))+'" alt="'+r(i(null!=t?d(t,"tags"):t,t))+'" width="400" height="280" class="image-gallery__image" />\r\n\r\n    <div class="stats">\r\n        <p class="stats-item">\r\n            <i class="material-icons">thumb_up</i>\r\n        <p class="stat-item">'+r("function"==typeof(o=null!=(o=d(n,"likes")||(null!=t?d(t,"likes"):t))?o:c)?o.call(s,{name:"likes",hash:{},data:a,loc:{start:{line:12,column:29},end:{line:12,column:38}}}):o)+'</p>\r\n        </p>\r\n        <p class="stats-item">\r\n            <i class="material-icons">visibility</i>\r\n        <p class="stat-item">'+r("function"==typeof(o=null!=(o=d(n,"views")||(null!=t?d(t,"views"):t))?o:c)?o.call(s,{name:"views",hash:{},data:a,loc:{start:{line:16,column:29},end:{line:16,column:38}}}):o)+'</p>\r\n        </p>\r\n        <p class="stats-item">\r\n            <i class="material-icons">comment</i>\r\n        <p class="stat-item">'+r("function"==typeof(o=null!=(o=d(n,"comments")||(null!=t?d(t,"comments"):t))?o:c)?o.call(s,{name:"comments",hash:{},data:a,loc:{start:{line:20,column:29},end:{line:20,column:41}}}):o)+'</p>\r\n        </p>\r\n        <p class="stats-item">\r\n            <i class="material-icons">cloud_download</i>\r\n        <p class="stat-item">'+r("function"==typeof(o=null!=(o=d(n,"downloads")||(null!=t?d(t,"downloads"):t))?o:c)?o.call(s,{name:"downloads",hash:{},data:a,loc:{start:{line:24,column:29},end:{line:24,column:42}}}):o)+"</p>\r\n        </p>\r\n    </div>\r\n</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,l,a){var o,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"\r\n"+(null!=(o=i(n,"each").call(null!=t?t:e.nullContext||{},null!=t?i(t,"hits"):t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:5,column:0},end:{line:28,column:9}}}))?o:"")},useData:!0})},h3ov:function(e,t,n){}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.91b581a5462ffdbca52b.js.map